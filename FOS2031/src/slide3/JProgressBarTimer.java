package Slide3;


import java.awt.event.*;
import java.text.*;
import java.util.*;
import javax.swing.*;
import javax.swing.text.*;


public class JProgressBarTimer extends javax.swing.JFrame {
    javax.swing.Timer t;
    public JProgressBarTimer() {
        initComponents();
        ActionListener a = new ActionListener() {
          public void actionPerformed(ActionEvent e) {
            SimpleDateFormat sdf = new SimpleDateFormat("hh:mm:ss");
            txtClock.setText(sdf.format(new Date()));
            int value = prgTienDo.getValue()+1;
            prgTienDo.setValue(value<=100?value:0);
          }
        };
        t = new javax.swing.Timer(1000, a);
    }
    //..........
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        txtClock = new javax.swing.JTextField();
        btnStart = new javax.swing.JButton();
        btnStop = new javax.swing.JButton();
        prgTienDo = new javax.swing.JProgressBar();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("ProgressBar - Timer");

        txtClock.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        txtClock.setForeground(new java.awt.Color(0, 0, 255));

        btnStart.setText("Start");
        btnStart.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnStartActionPerformed(evt);
            }
        });

        btnStop.setText("Stop");
        btnStop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnStopActionPerformed(evt);
            }
        });

        prgTienDo.setBackground(new java.awt.Color(204, 255, 204));
        prgTienDo.setForeground(new java.awt.Color(0, 204, 0));
        prgTienDo.setToolTipText("");
        prgTienDo.setValue(20);
        prgTienDo.setStringPainted(true);
        prgTienDo.addAncestorListener(new javax.swing.event.AncestorListener() {
            public void ancestorMoved(javax.swing.event.AncestorEvent evt) {
            }
            public void ancestorAdded(javax.swing.event.AncestorEvent evt) {
                prgTienDoAncestorAdded(evt);
            }
            public void ancestorRemoved(javax.swing.event.AncestorEvent evt) {
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(62, 62, 62)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(btnStart)
                        .addGap(32, 32, 32)
                        .addComponent(btnStop))
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(prgTienDo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(txtClock, javax.swing.GroupLayout.DEFAULT_SIZE, 272, Short.MAX_VALUE)))
                .addContainerGap(54, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(txtClock, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnStart)
                    .addComponent(btnStop))
                .addGap(27, 27, 27)
                .addComponent(prgTienDo, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(41, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnStartActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnStartActionPerformed
      int i = JOptionPane.showConfirmDialog(null,"Muon choi ko ?","Tra loi di", 
              JOptionPane.YES_NO_OPTION);
      if(i==0)
        t.start();
      else
        JOptionPane.showMessageDialog(null, "Ko choi thi thoi !");
    }//GEN-LAST:event_btnStartActionPerformed

    private void btnStopActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnStopActionPerformed
      t.stop();
    }//GEN-LAST:event_btnStopActionPerformed

    private void prgTienDoAncestorAdded(javax.swing.event.AncestorEvent evt) {//GEN-FIRST:event_prgTienDoAncestorAdded
        // TODO add your handling code here:
    }//GEN-LAST:event_prgTienDoAncestorAdded

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new JProgressBarTimer().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnStart;
    private javax.swing.JButton btnStop;
    private javax.swing.JProgressBar prgTienDo;
    private javax.swing.JTextField txtClock;
    // End of variables declaration//GEN-END:variables

}
